
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Sentiment Analysis &#8212; Introduction to Cultural Analytics &amp; Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=200c6414" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-TLVVLVGVME"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-TLVVLVGVME');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-TLVVLVGVME');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '05-Text-Analysis/04-Sentiment-Analysis';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/custom.js?v=c326fd66"></script>
    <link rel="canonical" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/05-Text-Analysis/04-Sentiment-Analysis.html" />
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Topic Modeling" href="05-Topic-Modeling.html" />
    <link rel="prev" title="TF-IDF with Scikit-Learn" href="03-TF-IDF-Scikit-Learn.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../welcome.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/favicon.ico" class="logo__image only-light" alt="Introduction to Cultural Analytics & Python - Home"/>
    <script>document.write(`<img src="../_static/favicon.ico" class="logo__image only-dark" alt="Introduction to Cultural Analytics & Python - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">How To</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../How-To-Interact-With-This-Book.html">Interact With This Book</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The Course</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../course-schedule-2021.html">Course Schedule</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The Book</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../01-Command-Line/01-The-Command-Line.html">1. The Command Line</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../02-Python/00-Python.html">2. Python Basics</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/01-Install-Python.html">Install Python &amp; JupyterLab</a></li>

<li class="toctree-l2"><a class="reference internal" href="../02-Python/02-How-to-Use-Jupyter-Notebooks.html">How to Use Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/03-Anatomy-Python-Script.html">Anatomy of a Python Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/04-Variables.html">Python Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/05-Data-Types.html">Python Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/06-String-Methods.html">Python String Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/07-Files-Character-Encoding.html">Files and Character Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/08-Comparisons-Conditionals.html">Python Comparisons and Conditionals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/09-Lists-Loops-Part1.html">Python Lists and Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/10-Lists-Loops-Part2.html">Python Lists and Loops (Cont.)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/11-Dictionaries.html">Python Dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/12-Functions.html">Python Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/13-Common-Python-Errors.html">Common Python Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-Python/14-What-Were-Not-Covering.html">What We’re Not Covering</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../03-Data-Analysis/00-Data-Analysis.html">3. Data Analysis (Pandas)</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../03-Data-Analysis/01-Pandas-Basics-Part1.html">Pandas Basics — Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-Data-Analysis/02-Pandas-Basics-Part2.html">Pandas Basics — Part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-Data-Analysis/03-Pandas-Basics-Part3.html">Pandas Basics — Part 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-Data-Analysis/04-Pandas-Merge-Datasets.html">Pandas — Merge Datasets</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../04-Data-Collection/00-Data-Collection.html">4. Data Collection (Web Scraping, APIs, Social Media)</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../04-Data-Collection/01-User-Ethics-Legal-Concerns.html">Users’ Data: Legal &amp; Ethical Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Data-Collection/02-Web-Scraping-Part1.html">Web Scraping — Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Data-Collection/03-Web-Scraping-Part2.html">Web Scraping — Part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Data-Collection/04-Git-GitHub.html">Git and GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-Data-Collection/05-What-Is-API.html">Application Programming Interfaces (APIs)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../04-Data-Collection/06-Song-Genius.html">Song Genius Data</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../04-Data-Collection/07-Genius-API.html">Song Genius API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04-Data-Collection/08-Collect-Genius-Lyrics.html">Song Lyrics Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04-Data-Collection/09-Lyrics-Analysis.html">Song Lyrics Analysis</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../04-Data-Collection/10-Twitter.html">Twitter Data</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../04-Data-Collection/11-Twitter-API-Setup.html">Twitter API Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04-Data-Collection/12-Twitter-Data.html">Twitter Data Collection &amp; Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04-Data-Collection/13-Twitter-Data-Sharing.html">Twitter Data Sharing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../04-Data-Collection/14-Reddit-Data.html">Reddit Data</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="00-Text-Analysis.html">5. Text Analysis</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="01-Multilingual-Text-Analysis.html">Working in Languages Beyond English</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="Multilingual/Chinese/00-Chinese.html">Chinese</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Chinese/01-Preprocessing-Chinese.html">Text Pre-Processing for Chinese</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Chinese/02-Named-Entity-Recognition-Chinese.html">Named Entity Recognition for Chinese</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Chinese/03-POS-Keywords-Chinese.html">Part-of-Speech Tagging for Chinese</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="Multilingual/Danish/00-Danish.html">Danish</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Danish/01-Preprocessing-Danish.html">Text Pre-Processing for Danish</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Danish/02-Named-Entity-Recognition-Danish.html">Named Entity Recognition for Danish</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Danish/03-POS-Keywords-Danish.html">Part-of-Speech Tagging for Danish</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="Multilingual/Portuguese/00-Portuguese.html">Portuguese</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Portuguese/01-Preprocessing-Portuguese.html">Text Pre-Processing for Portuguese</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Portuguese/02-Named-Entity-Recognition-Portuguese.html">Named Entity Recognition for Portuguese</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Portuguese/03-POS-Keywords-Portuguese.html">Part-of-Speech Tagging for Portuguese</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="Multilingual/Russian/00-Russian.html">Russian</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Russian/01-Preprocessing-Russian.html">Text Pre-Processing for Russian</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Russian/02-Named-Entity-Recognition-Russian.html">Named Entity Recognition for Russian</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Russian/03-POS-Keywords-Russian.html">Part-of-Speech Tagging for Russian</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="Multilingual/Spanish/00-Spanish.html">Spanish</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Spanish/01-Preprocessing-Spanish.html">Text Pre-Processing for Spanish</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Spanish/02-Named-Entity-Recognition-Spanish.html">Named Entity Recognition for Spanish</a></li>
<li class="toctree-l4"><a class="reference internal" href="Multilingual/Spanish/03-POS-Keywords-Spanish.html">Part-of-Speech Tagging for Spanish</a></li>

</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="01-TF-IDF.html">Term-Frequency Inverse Document Frequency</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="02-TF-IDF-HathiTrust.html">With HathiTrust</a></li>
<li class="toctree-l3"><a class="reference internal" href="03-TF-IDF-Scikit-Learn.html">With Scikit-Learn</a></li>
</ul>
</li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Sentiment Analysis</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="05-Topic-Modeling.html">Topic Modeling</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="06-Topic-Modeling-Overview.html">What is Topic Modeling?</a></li>
<li class="toctree-l3"><a class="reference internal" href="07-Topic-Modeling-Set-Up.html">MALLET Set Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="08-Topic-Modeling-Text-Files.html">MALLET &amp; Text Files (NYT Articles)</a></li>
<li class="toctree-l3"><a class="reference internal" href="09-Topic-Modeling-Without-Mallet.html">Tomotopy &amp; Text Files (NYT Articles) - No Java required</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-Topic-Modeling-CSV.html">MALLET &amp; CSV Files (Reddit Posts)</a></li>
<li class="toctree-l3"><a class="reference internal" href="11-Topic-Modeling-Time-Series.html">MALLET &amp; Time Series (Tweets)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="12-Named-Entity-Recognition.html">Named Entity Recognition</a></li>
<li class="toctree-l2"><a class="reference internal" href="13-POS-Keywords.html">Part-of-Speech Tagging</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../06-Network-Analysis/00-Network-Analysis.html">6. Network Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../06-Network-Analysis/01-Network-Analysis.html">Network Analysis with NetworkX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06-Network-Analysis/02-Making-Network-Viz-with-Bokeh.html">Make an Interactive Network Visualization with Bokeh</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../07-Mapping/00-Mapping.html">7. Mapping</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../07-Mapping/01-Mapping.html">Mapping &amp; Geocoding</a></li>

<li class="toctree-l2"><a class="reference internal" href="../07-Mapping/02-Custom-Maps.html">Custom Map Backgrounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07-Mapping/03-Publish-Your-Map.html">Publish Your Map on the Web</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Datasets</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../00-Datasets/00-Datasets.html">Datasets</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Extra Materials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../02-Python/EXTRA-Jupyter-Tips-Tricks.html">Jupyter Tips &amp; Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-Python/EXTRA-Randomize-Students.html">Make Random Student Groups</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/melaniewalsh/Intro-Cultural-Analytics/master?urlpath=lab/tree/book/05-Text-Analysis/04-Sentiment-Analysis.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/melaniewalsh/Intro-Cultural-Analytics" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/melaniewalsh/Intro-Cultural-Analytics/issues/new?title=Issue%20on%20page%20%2F05-Text-Analysis/04-Sentiment-Analysis.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/05-Text-Analysis/04-Sentiment-Analysis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Sentiment Analysis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets">Datasets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#trumps-tweets">Trump’s Tweets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#little-red-riding-hood">Little Red Riding Hood</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-sentiment-what-exactly-are-we-measuring">What is Sentiment? What Exactly Are We Measuring?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-vader-was-built-and-how-it-works">How VADER Was Built and How It Works</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-import-libraries-packages">Install and Import Libraries/Packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-scores">Calculate Sentiment Scores</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-scores-for-donald-trumps-tweets">Calculate Sentiment Scores for Donald Trump’s Tweets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#load-csv-file">Load CSV File</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-for-all-rows-in-a-csv">Calculate Sentiment for All Rows in a CSV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-sentiment-over-time">Plot Sentiment Over Time</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-scores-for-little-red-riding-hood">Calculate Sentiment Scores for Little Red Riding Hood</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-import-nltk">Install and Import NLTK</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#make-dataframe">Make DataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#make-a-sentiment-plot">Make a Sentiment Plot</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#your-turn">Your Turn!</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="sentiment-analysis">
<h1>Sentiment Analysis<a class="headerlink" href="#sentiment-analysis" title="Link to this heading">#</a></h1>
<p>In this lesson, we’re going to learn how to use <a class="reference external" href="https://github.com/cjhutto/vaderSentiment">VADER</a>, an English-language sentiment analysis tool designed for use with social media texts. This tool helps to calculate whether texts express positive or negative sentiment.</p>
<p>In this lesson, we will learn how to use VADER to:</p>
<ul class="simple">
<li><p>Calculate sentiment for individual sentences, tweets, and a fairy tale</p></li>
<li><p>Make plots of how sentiment fluctuates over time and throughout a text</p></li>
</ul>
<hr class="docutils" />
<section id="datasets">
<h2>Datasets<a class="headerlink" href="#datasets" title="Link to this heading">#</a></h2>
<section id="trumps-tweets">
<h3>Trump’s Tweets<a class="headerlink" href="#trumps-tweets" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://www.the-sun.com/wp-content/uploads/sites/6/2020/03/Screenshot-2020-03-25-at-21.56.11.png?strip=all&amp;amp;w=942"><img alt="" src="https://www.the-sun.com/wp-content/uploads/sites/6/2020/03/Screenshot-2020-03-25-at-21.56.11.png?strip=all&amp;w=942" /></a></p>
<p>We’re going to use VADER to analyze Donald Trump’s tweets and plot the fluctuation of sentiment over time. The Trump tweets dataset is downloaded from <a class="reference external" href="https://www.thetrumparchive.com/">The Trump Twitter Archive</a>.</p>
</section>
<section id="little-red-riding-hood">
<h3>Little Red Riding Hood<a class="headerlink" href="#little-red-riding-hood" title="Link to this heading">#</a></h3>
<blockquote class="epigraph" style=" padding: 10px">
<p>“Grandmother,” she said, “what big ears you have!”</p>
<p>“The better to hear you with, my Child”…</p>
<p class ="attribution">
    —<a href="https://www.gutenberg.org/ebooks/2591">"Little Red-Cap," </a> Grimms' Fairy Tales
    </p>
</blockquote>
<p><a class="reference external" href="https://www.publicdomainpictures.net/pictures/80000/nahled/little-red-riding-hood.jpg"><img alt="" src="https://www.publicdomainpictures.net/pictures/80000/nahled/little-red-riding-hood.jpg" /></a></p>
<p>We’re also going to use VADER to analyze the story “Little Red-Cap” (commonly known as “Little Red Riding Hood”) from Grimms’ fairy tales. The story is downloaded from <a class="reference external" href="https://www.gutenberg.org/ebooks/2591">Project Gutenberg</a>.</p>
</section>
</section>
<section id="what-is-sentiment-what-exactly-are-we-measuring">
<h2>What is Sentiment? What Exactly Are We Measuring?<a class="headerlink" href="#what-is-sentiment-what-exactly-are-we-measuring" title="Link to this heading">#</a></h2>
<p>What is sentiment analysis, exactly? What are we actually measuring with VADER?</p>
<p>These are tough and important questions. According to VADER’s creators, C.J. Hutto and Eric Gilbert, “Sentiment analysis, or opinion mining, is an active area of study in the field of natural language processing that analyzes people’s <strong>opinions, sentiments, evaluations, attitudes, and emotions</strong> via the computational treatment of subjectivity in text” (<a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122">“VADER”</a>).</p>
<p>I would like to emphasize that “opinions, sentiments, evaluations, attitudes, and emotions” covers a <em>lot</em> of ground. These are complex categories of human experience that can be expressed in many different ways, especially in different contexts. In fact, that’s why Hutto and Gilbert designed VADER specifically for <em>social media</em> texts, because sentiment gets expressed differently in social media posts than in, say, fictional stories or newspaper articles.</p>
<p>We want to remain critical and self-reflexive about what exactly we are measuring with VADER — especially when we apply VADER to non-social media texts, as we will with “Little Red-Cap” below. Too often I have encountered well-meaning students who want to understand complex social or textual phenomena (e.g., mental health, a reader’s emotional experience of a story, opinions about climate change) by reducing it only to sentiment analysis scores, without doing more and without thinking more deeply about whether those scores actually capture what they’re interested in.</p>
<p>So, yes, tools like VADER can be useful, as we will see below, but they are only useful when thoughtfully and deliberately applied.</p>
</section>
<section id="how-vader-was-built-and-how-it-works">
<h2>How VADER Was Built and How It Works<a class="headerlink" href="#how-vader-was-built-and-how-it-works" title="Link to this heading">#</a></h2>
<p>VADER, which stands for <strong>V</strong>alence <strong>A</strong>ware <strong>D</strong>ictionary and s<strong>E</strong>ntiment <strong>R</strong>easoner, calculates the sentiment of texts by referring to a lexicon of words that have been assigned sentiment scores as well as by using a handful of simple rules.</p>
<p>You can read more about how VADER was designed in <a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122">C.J. Hutto and Eric Gilbert’s published paper</a>, but here’s a summary version: VADER’s lexicon was created by enlisting 10 different people to rate thousands of words positively or negatively on a scale of -4 to 4 (you can scroll through the <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/master/vaderSentiment/vader_lexicon.txt">lexicon on GitHub</a> and check it out for yourself — each line consists of a word, the mean rating, standard deviation, and 10 individual human ratings).</p>
<p><a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122"><img alt="" src="../images/VADER-fig.png" /></a></p>
<p><em>This figure shows the interface presented to the 10 raters for rating the sentiment of words. It is taken from <a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122">“VADER: A Parsimonious Rule-based Model for Sentiment Analysis of Social Media Text.”</a></em></p>
<p>For example, you can see that the acronym <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L368">ROFL</a> (Rolling on the Floor Laughing) has a mean rating of 2.7, the word <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L1622"><em>crappy</em></a> has a mean rating of -2.5, and the word <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L1127"><em>bliss</em></a> has a mean rating of 2.7. If you look at the 10 individual ratings for each entry, however, you can see interesting discrepancies. One person rated <em>bliss</em> as a 4, while another person rated <em>bliss</em> as a 1. Just how “positive” is the word <em>bliss</em>? What do <em>you</em> think?</p>
<p>What about <a class="reference external" href="https://github.com/cjhutto/vaderSentiment/blob/d8da3e21374a57201b557a4c91ac4dc411a08fed/vaderSentiment/vader_lexicon.txt#L1721"><em>cutesie</em></a>? It has a mean rating of 1, but two people rated it as a -1, and five people rated as a 2. Is <em>cutesie</em> an admiring adjective — “<a class="reference external" href="https://www.urbandictionary.com/define.php?term=Cutesie">She was so cutesie I just had to talk to her</a>” — or a diminutive slight — “Ugh, her apartment was too cutesie”?</p>
<p>These difficult questions come up repeatedly when you read through the lexicon. Of course, VADER is designed to generalize beyond individual responses and interpretations, and it is not expected to capture the nuances of every single text. At the same time, whenever we use sentiment analysis tools, we want to ask: Does it matter that we’re missing out on specific nuances? Is this the best tool for capturing what we’re trying to study and understand?</p>
<p>In addition to its lexicon, VADER also calculates sentiment by considering 5 relatively simple rules:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>If there’s punctuation, especially exclamation points, the sentiment intensity should be increased (e.g., “Mochi ice cream is bliss” 👍 vs “Mochi ice cream is bliss!!!” 👍👍👍 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="arabic simple" start="2">
<li><p>If there’s capitalization, especially all caps, the sentiment intensity should be increased (e.g., “Mochi ice cream is bliss” 👍 vs “Mochi ice cream is BLISS” 👍👍👍 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="arabic simple" start="3">
<li><p>If there are words like “extremely” or “absolutely”, the sentiment should be increased (“Mochi ice cream is good” 👍  vs “Mochi ice cream is extremely good” 👍👍👍 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="arabic simple" start="4">
<li><p>If there’s a “but” in a sentence, the polarity of the sentiment should shift, and the sentiment that follows the “but” should be prioritized (e.g., “Mochi ice cream is nice” 👍 vs “Mochi ice cream is nice, but it’s a little blah” 👎 )</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="arabic simple" start="5">
<li><p>If there’s a negation before an important word, the sentiment polarity should be flipped (“Mochi ice cream is my favorite” 👍 vs “Mochi ice cream is not my favorite” 👎 )</p></li>
</ol>
</div></blockquote>
<p>Because VADER uses this lexicon and these simple rules, it works very fast and doesn’t require any training or set up, unlike more sophisticated machine learning approaches. The simplicity is both its pro and con.</p>
</section>
<section id="install-and-import-libraries-packages">
<h2>Install and Import Libraries/Packages<a class="headerlink" href="#install-and-import-libraries-packages" title="Link to this heading">#</a></h2>
<p>So let’s explore VADER!</p>
<p>To use it, we need to install the <a class="reference external" href="https://github.com/cjhutto/vaderSentiment">vaderSentiment package</a> with pip.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>vaderSentiment
</pre></div>
</div>
</div>
</div>
<p>Then we will import the <code class="docutils literal notranslate"><span class="pre">SentimentIntensityAnalyser</span></code> and initialize it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vaderSentiment.vaderSentiment</span> <span class="kn">import</span> <span class="n">SentimentIntensityAnalyzer</span>

<span class="c1"># Initialize VADER so we can use it later</span>
<span class="n">sentimentAnalyser</span> <span class="o">=</span> <span class="n">SentimentIntensityAnalyzer</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>We are also going to import pandas for working with data and set the column width for pandas DataFrames to 400.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">400</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="calculate-sentiment-scores">
<h2>Calculate Sentiment Scores<a class="headerlink" href="#calculate-sentiment-scores" title="Link to this heading">#</a></h2>
<p>To calculate sentiment scores for a sentence or paragraph, we can use <code class="docutils literal notranslate"><span class="pre">sentimentAnalyser.polarity_scores()</span></code> and input a string of text.</p>
<p>This method returns a Python dictionary of sentiment scores: how negative the sentence is between 0-1, how neutral the sentence is between 0-1, how positive the sentence is between 0-1, as well as a compound score between -1-1.</p>
<p>Most scholars uses the compound score to represent sentiment in their analyses, and we will use the compound score in this lesson, as well. Let’s test it out with some sample sentences!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.361, &#39;pos&#39;: 0.639, &#39;compound&#39;: 0.6486}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I don&#39;t like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.526, &#39;neu&#39;: 0.474, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.5334}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I despise the Marvel movies with every fiber of my being&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.169, &#39;neu&#39;: 0.634, &#39;pos&#39;: 0.197, &#39;compound&#39;: 0.1027}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I don&#39;t *not* like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.255, &#39;neu&#39;: 0.546, &#39;pos&#39;: 0.199, &#39;compound&#39;: -0.1307}
</pre></div>
</div>
</div>
</div>
<p>To make the scores more readable, below we make a list of sentences, loop through the list and calculate the polarity scores for each sentence, then print out each part of the sentiment scores dictionary in a nicely formatted f-string (a string that begins with f and allows you to insert Python variables).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List of sentences</span>
<span class="n">sentences</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;I like the Marvel movies&quot;</span><span class="p">,</span>
             <span class="s2">&quot;I don&#39;t like the Marvel movies&quot;</span><span class="p">,</span>
             <span class="s2">&quot;I despise the Marvel movies with every fiber of my being&quot;</span><span class="p">,</span>
             <span class="s2">&quot;I don&#39;t *not* live the Marvel movies&quot;</span><span class="p">]</span>

<span class="c1"># Loop through list of sentences</span>
<span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
    <span class="c1"># Run VADER on each sentence</span>
    <span class="n">sentiment_scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    
    <span class="c1"># Print scores for each sentence</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;&#39;</span><span class="si">{</span><span class="n">sentence</span><span class="si">}</span><span class="s2">&#39; </span><span class="se">\n</span>
<span class="s2">🙁 Negative Sentiment: </span><span class="si">{</span><span class="n">sentiment_scores</span><span class="p">[</span><span class="s1">&#39;neg&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  </span>
<span class="s2">😐 Neutral Sentiment: </span><span class="si">{</span><span class="n">sentiment_scores</span><span class="p">[</span><span class="s1">&#39;neu&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span>
<span class="s2">😀 Positive Sentiment: </span><span class="si">{</span><span class="n">sentiment_scores</span><span class="p">[</span><span class="s1">&#39;pos&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span>
<span class="s2">✨ Compound Sentiment: </span><span class="si">{</span><span class="n">sentiment_scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span>
<span class="s2">--- </span><span class="se">\n</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;I like the Marvel movies&#39; 

🙁 Negative Sentiment: 0.0 
  
😐 Neutral Sentiment: 0.361 

😀 Positive Sentiment: 0.639 

✨ Compound Sentiment: 0.6486 

--- 

&#39;I don&#39;t like the Marvel movies&#39; 

🙁 Negative Sentiment: 0.526 
  
😐 Neutral Sentiment: 0.474 

😀 Positive Sentiment: 0.0 

✨ Compound Sentiment: -0.5334 

--- 

&#39;I despise the Marvel movies with every fiber of my being&#39; 

🙁 Negative Sentiment: 0.169 
  
😐 Neutral Sentiment: 0.634 

😀 Positive Sentiment: 0.197 

✨ Compound Sentiment: 0.1027 

--- 

&#39;I don&#39;t *not* live the Marvel movies&#39; 

🙁 Negative Sentiment: 0.28 
  
😐 Neutral Sentiment: 0.72 

😀 Positive Sentiment: 0.0 

✨ Compound Sentiment: -0.3252 

--- 
</pre></div>
</div>
</div>
</div>
<p>We can see moments where VADER is both working and not working in the examples above. VADER registers that “I like the Marvel movies” represents the overall most positive sentiment, while “I don’t like the Marvel movies” is the most negative sentiment, and “I don’t <em>not</em> like the Marvel movies” is negative but not quite as negative as a straight up “don’t like.”</p>
<p>However, VADER does not capture that “I despise the Marvel movies with every fiber of my being” should be the <em>most</em> negative sentiment of the bunch. In fact, VADER scores this sentence in the mildly positive range. This example should remind us that VADER typically works best when it is used in aggregate and applied to many examples, such that specific nuances and exceptions like these matter less and come out in the wash.</p>
</section>
<section id="calculate-sentiment-scores-for-donald-trumps-tweets">
<h2>Calculate Sentiment Scores for Donald Trump’s Tweets<a class="headerlink" href="#calculate-sentiment-scores-for-donald-trumps-tweets" title="Link to this heading">#</a></h2>
<p>Let’s try using VADER on many texts: Donald Trump’s corpus of tweets from 2009 to 2021 (when he was suspended from Twitter).</p>
<section id="load-csv-file">
<h3>Load CSV File<a class="headerlink" href="#load-csv-file" title="Link to this heading">#</a></h3>
<p>We will load the Trump tweets CSV file with pandas and drop some of the columns that we don’t need.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../texts/social-media/Trump-Tweets_2009-2021.csv&#39;</span><span class="p">)</span>
<span class="n">trump_df</span> <span class="o">=</span> <span class="n">trump_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;device&#39;</span><span class="p">,</span> <span class="s1">&#39;isDeleted&#39;</span><span class="p">,</span> <span class="s1">&#39;isRetweet&#39;</span><span class="p">,</span> <span class="s1">&#39;isFlagged&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<span class="n">trump_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>To all of those who have asked, I will not be going to the Inauguration on January 20th.</td>
      <td>510761</td>
      <td>83532</td>
      <td>1/8/21 15:44</td>
    </tr>
    <tr>
      <th>1</th>
      <td>The 75,000,000 great American Patriots who voted for me, AMERICA FIRST, and MAKE AMERICA GREAT AGAIN, will have a GIANT VOICE long into the future. They will not be disrespected or treated unfairly in any way, shape or form!!!</td>
      <td>480997</td>
      <td>108844</td>
      <td>1/8/21 14:46</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://t.co/csX07ZVWGe</td>
      <td>629326</td>
      <td>154877</td>
      <td>1/8/21 0:10</td>
    </tr>
    <tr>
      <th>3</th>
      <td>These are the things and events that happen when a sacred landslide election victory is so unceremoniously &amp;amp; viciously stripped away from great patriots who have been badly &amp;amp; unfairly treated for so long. Go home with love &amp;amp; in peace. Remember this day forever!</td>
      <td>0</td>
      <td>0</td>
      <td>1/6/21 23:01</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://t.co/Pm2PKV0Fp3</td>
      <td>0</td>
      <td>0</td>
      <td>1/6/21 21:17</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="calculate-sentiment-for-all-rows-in-a-csv">
<h3>Calculate Sentiment for All Rows in a CSV<a class="headerlink" href="#calculate-sentiment-for-all-rows-in-a-csv" title="Link to this heading">#</a></h3>
<p>To calculate the sentiment for each tweet in the CSV file and add a new column that contains this information, we will create a function that will take in any text and output the compound sentiment score.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_sentiment</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Run VADER on the text</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="c1"># Extract the compound score</span>
    <span class="n">compound_score</span> <span class="o">=</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span>
    <span class="c1"># Return compound score</span>
    <span class="k">return</span> <span class="n">compound_score</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s test it out!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">calculate_sentiment</span><span class="p">(</span><span class="s1">&#39;I like the Marvel movies&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.6486
</pre></div>
</div>
</div>
</div>
<p>Nice, it works! Now we can apply it to every row in the CSV file with the <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> method. In the same line of code, we are making new column “sentiment_score”, where we are outputting our results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Apply the function to every row in the &quot;text&quot; column and output the results into a new column &quot;sentiment_score&quot;</span>
<span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">calculate_sentiment</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s sort the DataFrame and examine the top 10 tweets with the highest compound sentiment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>date</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>23169</th>
      <td>Congratulations to Patrick Reed on his great and courageous MASTERS win! When Patrick had his amazing win at Doral 5 years ago, people saw his great talent, and a bright future ahead. Now he is the Masters Champion!</td>
      <td>79374</td>
      <td>10122</td>
      <td>4/9/18 0:43</td>
      <td>0.9899</td>
    </tr>
    <tr>
      <th>5169</th>
      <td>Today, it was my great honor to proudly accept the endorsement of the @NYCPBA! I have deeply and profoundly admired the brave men and women of the #NYPD for my entire life. New York’s Finest are truly the best of the best — I will NEVER let you down! #MAGA https://t.co/o1l5kAx34v</td>
      <td>86425</td>
      <td>22183</td>
      <td>8/15/20 3:59</td>
      <td>0.9879</td>
    </tr>
    <tr>
      <th>7200</th>
      <td>I am a big fan of Drew Brees. I think he’s truly one of the greatest quarterbacks, but he should not have taken back his original stance on honoring our magnificent American Flag. OLD GLORY is to be revered, cherished, and flown high...</td>
      <td>267196</td>
      <td>48513</td>
      <td>6/5/20 20:08</td>
      <td>0.9879</td>
    </tr>
    <tr>
      <th>2490</th>
      <td>It was great to be back in North Carolina with thousands of loyal, hardworking American Patriots! This election is a simple choice: If Biden Wins, China Wins. When WE Win, YOU WIN, North Carolina WINS, and America WINS! https://t.co/jWYVYZdT3E</td>
      <td>46024</td>
      <td>10955</td>
      <td>10/15/20 19:20</td>
      <td>0.9876</td>
    </tr>
    <tr>
      <th>11615</th>
      <td>95% Approval Rating in the Republican Party. Thank you! 191 Federal Judges (a record), and two Supreme Court Justices, approved. Best Economy &amp;amp; Employment Numbers EVER. Thank you to our great New, Smart and Nimble REPUBLICAN PARTY. Join now, it’s where people want to be!</td>
      <td>110818</td>
      <td>23498</td>
      <td>1/26/20 16:24</td>
      <td>0.9869</td>
    </tr>
    <tr>
      <th>40498</th>
      <td>Good luck and best wishes to my dear friend, the wonderful and very talented Joan Rivers!  Winner of Celebrity Apprentice, amazing woman.</td>
      <td>456</td>
      <td>199</td>
      <td>8/29/14 3:05</td>
      <td>0.9857</td>
    </tr>
    <tr>
      <th>15776</th>
      <td>We are all united by the same love of Country, the same devotion to family, and the same profound faith that America is blessed by the eternal grace of ALMIGHTY GOD! Bound by these convictions, we will campaign for every vote &amp;amp, we will WIN the Great State of NEW MEXICO in 2020! https://t.co/BV5Wxs5GxE</td>
      <td>73144</td>
      <td>18191</td>
      <td>9/17/19 3:42</td>
      <td>0.9856</td>
    </tr>
    <tr>
      <th>20188</th>
      <td>Here we go with Mitt Romney, but so fast! Question will be, is he a Flake?  I hope not. Would much prefer that Mitt focus on Border Security and so many other things where he can be helpful. I won big, and he didn’t. He should be happy for all Republicans. Be a TEAM player &amp;amp, WIN!</td>
      <td>154068</td>
      <td>30352</td>
      <td>1/2/19 12:53</td>
      <td>0.9843</td>
    </tr>
    <tr>
      <th>20863</th>
      <td>Congressman Kevin Brady of Texas is so popular in his District, and far beyond, that he doesn’t need any help - but I am giving it to him anyway. He is a great guy and the absolute “King” of Cutting Taxes. Highly respected by all, he loves his State &amp;amp, Country. Strong Endorsement!</td>
      <td>49255</td>
      <td>11554</td>
      <td>10/30/18 12:25</td>
      <td>0.9841</td>
    </tr>
    <tr>
      <th>20136</th>
      <td>Congratulations to a truly great football team, the Clemson Tigers, on an incredible win last night against a powerful Alabama team. A big win also for the Great State of South Carolina. Look forward to seeing the team, and their brilliant coach, for the second time at the W.H.</td>
      <td>118681</td>
      <td>17159</td>
      <td>1/8/19 14:42</td>
      <td>0.9841</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s sort the DataFrame and examine the 10 tweets with the lowest compound sentiment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>date</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3728</th>
      <td>According to press reports, Iran may be planning an assassination, or other attack, against the United States in retaliation for the killing of terrorist leader Soleimani, which was carried out for his planning a future attack, murdering U.S. Troops, and the death &amp;amp; suffering...</td>
      <td>120885</td>
      <td>32175</td>
      <td>9/15/20 3:04</td>
      <td>-0.9829</td>
    </tr>
    <tr>
      <th>21749</th>
      <td>It is outrageous that Poisonous Synthetic Heroin Fentanyl comes pouring into the U.S. Postal System from China. We can, and must, END THIS NOW! The Senate should pass the STOP ACT – and firmly STOP this poison from killing our children and destroying our country. No more delay!</td>
      <td>89183</td>
      <td>23153</td>
      <td>8/20/18 17:14</td>
      <td>-0.9825</td>
    </tr>
    <tr>
      <th>1552</th>
      <td>Our prayers are with the people of Vienna after yet another vile act of terrorism in Europe. These evil attacks against innocent people must stop. The U.S. stands with Austria, France, and all of Europe in the fight against terrorists, including radical Islamic terrorists.</td>
      <td>236684</td>
      <td>39564</td>
      <td>11/3/20 4:25</td>
      <td>-0.9810</td>
    </tr>
    <tr>
      <th>7096</th>
      <td>Colin Powell was a pathetic interview today on Fake News CNN. In his time, he was weak &amp;amp; gave away everything to everybody - so bad for the USA. Also got the “weapons of mass destruction” totally wrong, and you know what that mistake cost us? Sad! Only negative questions asked.</td>
      <td>127934</td>
      <td>28175</td>
      <td>6/8/20 3:42</td>
      <td>-0.9800</td>
    </tr>
    <tr>
      <th>21818</th>
      <td>The Rigged Russian Witch Hunt goes on and on as the “originators and founders” of this scam continue to be fired and demoted for their corrupt and illegal activity. All credibility is gone from this terrible Hoax, and much more will be lost as it proceeds. No Collusion!</td>
      <td>66924</td>
      <td>15264</td>
      <td>8/15/18 14:08</td>
      <td>-0.9785</td>
    </tr>
    <tr>
      <th>20367</th>
      <td>At the request of many, I will be reviewing the case of a “U.S. Military hero,” Major Matt Golsteyn, who is charged with murder. He could face the death penalty from our own government after he admitted to killing a Terrorist bomb maker while overseas. @PeteHegseth @FoxNews</td>
      <td>87158</td>
      <td>21270</td>
      <td>12/16/18 15:03</td>
      <td>-0.9783</td>
    </tr>
    <tr>
      <th>15969</th>
      <td>...But most importantly, @CNN is bad for the USA. Their International Division spews bad information &amp;amp, Fake News all over the globe. This is why foreign leaders are always asking me, “Why does the Media hate the U.S. sooo much?” It is a fraudulent shame, &amp;amp, all comes from the top!</td>
      <td>45089</td>
      <td>10539</td>
      <td>9/9/19 13:01</td>
      <td>-0.9773</td>
    </tr>
    <tr>
      <th>432</th>
      <td>Swing States that have found massive VOTER FRAUD, which is all of them, CANNOT LEGALLY CERTIFY these votes as complete &amp;amp; correct without committing a severely punishable crime. Everybody knows that dead people, below age people, illegal immigrants, fake signatures, prisoners,....</td>
      <td>245205</td>
      <td>60394</td>
      <td>12/13/20 22:49</td>
      <td>-0.9772</td>
    </tr>
    <tr>
      <th>18393</th>
      <td>....employment numbers ever, low taxes &amp;amp, regulations, a rebuilt military &amp;amp, V.A., many great new judges, &amp;amp, so much more. But we have had a giant SCAM perpetrated upon our nation, a Witch Hunt, a Treasonous Hoax. That is the Constitutional Crisis &amp;amp, hopefully guilty people will pay!</td>
      <td>63870</td>
      <td>14228</td>
      <td>5/12/19 21:35</td>
      <td>-0.9771</td>
    </tr>
    <tr>
      <th>19563</th>
      <td>...said was a total lie, but Fake Media won’t show it. I am an innocent man being persecuted by some very bad, conflicted &amp;amp, corrupt people in a Witch Hunt that is illegal &amp;amp, should never have been allowed to start - And only because I won the Election! Despite this, great success!</td>
      <td>108241</td>
      <td>21889</td>
      <td>3/3/19 15:44</td>
      <td>-0.9765</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="plot-sentiment-over-time">
<h3>Plot Sentiment Over Time<a class="headerlink" href="#plot-sentiment-over-time" title="Link to this heading">#</a></h3>
<p>We can plot how Trump’s sentiment in his tweets fluctuates over time by first converting the date column to a datetime value and then making it the index of the DataFrame, which makes it easier to work with time series data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convert the date column to datetime values</span>
<span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">trump_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>

<span class="c1"># Make date the index of the DataFrame</span>
<span class="n">trump_df</span> <span class="o">=</span> <span class="n">trump_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>sentiment_score</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-01-08 15:44:00</th>
      <td>To all of those who have asked, I will not be going to the Inauguration on January 20th.</td>
      <td>510761</td>
      <td>83532</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2021-01-08 14:46:00</th>
      <td>The 75,000,000 great American Patriots who voted for me, AMERICA FIRST, and MAKE AMERICA GREAT AGAIN, will have a GIANT VOICE long into the future. They will not be disrespected or treated unfairly in any way, shape or form!!!</td>
      <td>480997</td>
      <td>108844</td>
      <td>0.923</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Then we will group the tweets by month using <code class="docutils literal notranslate"><span class="pre">.resample()</span></code>, a special method for datetime indices, and calculate the average (<code class="docutils literal notranslate"><span class="pre">.mean()</span></code>) compound score for each month. Finally, we will plot these averages.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trump&#39;s Tweet Sentiment by Month&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5bffa47bff9699360626dfc5286d3f7cb1a3ccaad808fbb93d4de408abf363d0.png" src="../_images/5bffa47bff9699360626dfc5286d3f7cb1a3ccaad808fbb93d4de408abf363d0.png" />
</div>
</div>
<p>We can also <code class="docutils literal notranslate"><span class="pre">.resample()</span></code> by day (‘D’), week (‘W’), or year (‘Y’).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trump&#39;s Tweet Sentiment by Day&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/83931a362ff900fd0775f664f0c8b403ba726703956ffa2aceaa6d333af77f15.png" src="../_images/83931a362ff900fd0775f664f0c8b403ba726703956ffa2aceaa6d333af77f15.png" />
</div>
</div>
<p>By using <code class="docutils literal notranslate"><span class="pre">.loc</span></code>, we can also zoom in on particular time periods, such as the year 2020.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;W&#39;</span><span class="p">)[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trump&#39;s Tweet Sentiment by Week in 2020&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6ecb424a534e202f5627af910c25ebc87cbb2d1b920a052b04ca2a138729c056.png" src="../_images/6ecb424a534e202f5627af910c25ebc87cbb2d1b920a052b04ca2a138729c056.png" />
</div>
</div>
<p>Hmm looks like there’s a major dip near the end of November 2020…around the same time that Donald Trump was not re-elected for president of the United States… Let’s take a closer look.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trump_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2020-11-07&quot;</span><span class="p">:</span><span class="s2">&quot;2020-11-30&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-37-2b4f38b767db&gt;:1: FutureWarning: Value based partial slicing on non-monotonic DatetimeIndexes with non-existing keys is deprecated and will raise a KeyError in a future Version.
  trump_df.loc[&quot;2020-11-07&quot;:&quot;2020-11-30&quot;].sort_values(by=&#39;sentiment_score&#39;)[:10]
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>favorites</th>
      <th>retweets</th>
      <th>sentiment_score</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-11-18 13:55:00</th>
      <td>Wrong! At first they voted against because there were far more VOTES than PEOPLE (Sad!). Then they were threatened, screamed at and viciously harassed, and were FORCED to change their vote, but then REFUSED, as American patriots, to sign the documents. 71% MESS. Don’t Harass! https://t.co/n5frpesHfD</td>
      <td>139281</td>
      <td>37876</td>
      <td>-0.9762</td>
    </tr>
    <tr>
      <th>2020-11-15 22:21:00</th>
      <td>Many of the court cases being filed all over the Country are not ours, but rather those of people that have seen horrible abuses. Our big cases showing the unconstitutionality of the 2020 Election, &amp;amp; the outrage of things that were done to change the outcome, will soon be filed!</td>
      <td>343592</td>
      <td>72974</td>
      <td>-0.9468</td>
    </tr>
    <tr>
      <th>2020-11-14 05:21:00</th>
      <td>Top US Pollster and Statistician Richard Baris — People's Pundit — SUSPENDED from Twitter for Reporting on Disputed Election — Political 'WrongThink' Not Allowed https://t.co/uHBZnJJn1I via Said 10,000 DEAD PEOPLE VOTED IN MICHIGAN. When will this RIGGED ELECTION be overturned!</td>
      <td>135655</td>
      <td>41780</td>
      <td>-0.9387</td>
    </tr>
    <tr>
      <th>2020-11-22 12:24:00</th>
      <td>It’s all about the signatures on the envelopes. Why are the Democrats fighting so hard to hide them. We will find massive numbers of fraudulent ballots. The signatures won’t match. Fight hard Republicans. Don’t let them destroy the evidence! https://t.co/qN2jHGeWEN</td>
      <td>155833</td>
      <td>38419</td>
      <td>-0.9363</td>
    </tr>
    <tr>
      <th>2020-11-16 15:29:00</th>
      <td>Trump Campaign Rejects Media Reports of Changed Pennsylvania Case https://t.co/VjIhiyB4XK via @BreitbartNews. Just more Fake News. Harassment and exclusion of our Poll Watchers is a big part of our case. Unconstitutional!</td>
      <td>122266</td>
      <td>29373</td>
      <td>-0.9161</td>
    </tr>
    <tr>
      <th>2020-11-15 21:36:00</th>
      <td>WATCH: D.C. Cops Direct Trump-Supporters into Gauntlet of Protesters, Do Nothing When They Are Assaulted https://t.co/179yDCbZou via @BreitbartNews. These thugs and lowlifes only stalked and attacked when most of the tens of thousands of people had left town. Ran away earlier!</td>
      <td>106849</td>
      <td>31579</td>
      <td>-0.8955</td>
    </tr>
    <tr>
      <th>2020-11-24 12:33:00</th>
      <td>Poll: 79 Percent of Trump Voters Believe ‘Election Was Stolen‘ https://t.co/PmMBmt05AI via @BreitbartNews They are 100% correct, but we are fighting hard. Our big lawsuit, which spells out in great detail all of the ballot fraud and more, will soon be filled. RIGGED ELECTION!</td>
      <td>184222</td>
      <td>44923</td>
      <td>-0.8858</td>
    </tr>
    <tr>
      <th>2020-11-22 01:33:00</th>
      <td>This is not at all frivolous. It is brought on behalf of one of the most respected members of the United States Congress who is disgusted, like so many others, by an Election that is a fraudulent mess. Fake ballots, dead people voting, no Republican Poll Watchers allowed, &amp;amp; more! https://t.co/mOGdSOeZW8</td>
      <td>119951</td>
      <td>28675</td>
      <td>-0.8833</td>
    </tr>
    <tr>
      <th>2020-11-15 19:20:00</th>
      <td>John Bolton was one of the dumbest people in government that I’ve had the “pleasure” to work with. A sullen, dull and quiet guy, he added nothing to National Security except, “Gee, let’s go to war.” Also, illegally released much Classified Information. A real dope!</td>
      <td>355884</td>
      <td>61089</td>
      <td>-0.8758</td>
    </tr>
    <tr>
      <th>2020-11-22 13:13:00</th>
      <td>Just arrived at Virtual G20. Was here yesterday also (early), but some of the Fake News Media failed to report it accurately - as usual. My speech is available (they said I didn’t make a speech).</td>
      <td>328214</td>
      <td>66354</td>
      <td>-0.8625</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Indeed, we can see a lot of negative sentiment expressed about the election, including claims of its fradulence.</p>
</section>
</section>
<section id="calculate-sentiment-scores-for-little-red-riding-hood">
<h2>Calculate Sentiment Scores for Little Red Riding Hood<a class="headerlink" href="#calculate-sentiment-scores-for-little-red-riding-hood" title="Link to this heading">#</a></h2>
<p>To calculate sentiment scores for the fairy tale “Little Red Cap,” we first need to read in the text file.</p>
<p>We’re also going to replace line breaks with spaces to because there are line breaks in the middle of sentences.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read in text file</span>
<span class="n">text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../texts/literature/Grimms-Little-Red-Cap.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="c1"># Replace line breaks with spaces</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="install-and-import-nltk">
<h3>Install and Import NLTK<a class="headerlink" href="#install-and-import-nltk" title="Link to this heading">#</a></h3>
<p>Next we need to break the text into sentences.</p>
<p>An easy way to break text into sentences, or to “tokenize” them into sentences, is to use <a class="reference external" href="https://www.nltk.org/">NLTK</a>, a Python library for text analysis natural language processing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>nltk
</pre></div>
</div>
</div>
</div>
<p>Let’s import nltk and download the model that will help us get sentences.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To break a string into individual sentences, we can use <code class="docutils literal notranslate"><span class="pre">nltk.sent_tokenize()</span></code></p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;LITTLE RED-CAP   Once upon a time, there was a sweet little girl, who was loved by every one who looked at her, and most of all by her Grandmother.&#39;,
 &#39;There was nothing that she would not have given the child!&#39;,
 &#39;Once she gave her a little cap of red velvet, which suited her so well that she would not wear anything else.&#39;,
 &#39;So she was always called Little Red-Cap.&#39;,
 &#39;One day, her Mother said to her, “Come, Little Red-Cap, here is a piece of cake and a bottle of wine.&#39;,
 &#39;Take them to your Grandmother.&#39;,
 &#39;She is ill and weak, and they will do her good.&#39;,
 &#39;Set out before it gets hot.&#39;,
 &#39;Walk nicely and quietly.&#39;,
 &#39;Do not run off the path, or you may fall and break the bottle; then your Grandmother will get nothing!&#39;,
 &#39;When you go into her room, don’t forget to say ‘Good morning,’ and don’t stop to peep into every corner, before you do it.”  “I’ll take great care,” said Little Red-Cap to her Mother, and gave her hand on it.&#39;,
 &#39;The Grandmother lived in the wood, half an hour’s distance from the village, and just as Little Red-Cap entered the wood, a Wolf met her.&#39;,
 &#39;Red-Cap did not know what a wicked creature he was, and was not at all afraid of him.&#39;,
 &#39;“Good-day, Little Red-Cap,” said he.&#39;,
 &#39;“Thank you kindly, Wolf.”  “Whither away so early, Little Red-Cap?”  “To my Grandmother’s.”  “What have you got in your apron?”  “Cake and wine.&#39;,
 &#39;Yesterday was baking-day, so poor sick Grandmother is to have something good, to make her stronger.”  “Where does your Grandmother live, Little Red-Cap?”  “A good quarter of an hour farther on in the wood.&#39;,
 &#39;Her house stands under the three large oak-trees; the nut-trees are just below.&#39;,
 &#39;You surely must know it,” replied Little Red-Cap.&#39;,
 &#39;The Wolf thought to himself, “What a tender young creature!&#39;,
 &#39;what a nice plump mouthful--she will be better to eat than the old woman.&#39;,
 &#39;I must act craftily, so as to catch both.”  He walked for a short time by the side of Little Red-Cap, and then he said, “See, Little Red-Cap, how pretty the flowers are about here--why do you not look round?&#39;,
 &#39;I believe, too, that you do not hear how sweetly the little birds are singing.&#39;,
 &#39;You walk gravely along as if you were going to school, while everything else in the wood is merry.”  Little Red-Cap raised her eyes, and when she saw the sunbeams dancing here and there through the trees, and pretty flowers growing everywhere, she thought, “Suppose I take Grandmother a fresh nosegay.&#39;,
 &#39;That would please her too.&#39;,
 &#39;It is so early in the day that I shall still get there in good time.”  And so she ran from the path into the wood to look for flowers.&#39;,
 &#39;And whenever she had picked one, she fancied that she saw a still prettier one farther on, and ran after it, and thus got deeper and deeper into the wood.&#39;,
 &#39;Meanwhile, the Wolf ran straight to the Grandmother’s house and knocked at the door.&#39;,
 &#39;“Who is there?”  “Little Red-Cap,” replied the Wolf.&#39;,
 &#39;“She is bringing cake and wine.&#39;,
 &#39;Open the door.”  “Lift the latch,” called out the Grandmother, “I am too weak, and cannot get up.”  The Wolf lifted the latch, the door flew open, and without saying a word he went straight to the Grandmother’s bed, and devoured her.&#39;,
 &#39;Then he put on her clothes, dressed himself in her cap, laid himself in bed, and drew the curtains.&#39;,
 &#39;Little Red-Cap, however, had been running about picking flowers.&#39;,
 &#39;When she had gathered so many that she could carry no more, she remembered her Grandmother, and set out on the way to her.&#39;,
 &#39;She was surprised to find the cottage-door standing open.&#39;,
 &#39;And when she went into the room, she had such a strange feeling, that she said to herself, “Oh dear!&#39;,
 &#39;how uneasy I feel to-day, and at other times I like being with Grandmother so much.”  She called out, “Good morning,” but received no answer.&#39;,
 &#39;So she went to the bed and drew back the curtains.&#39;,
 &#39;There lay her Grandmother with her cap pulled far over her face, and looking very strange.&#39;,
 &#39;“Oh!&#39;,
 &#39;Grandmother,” she said, “what big ears you have!”  “The better to hear you with, my Child,” was the reply.&#39;,
 &#39;“But, Grandmother, what big eyes you have!” she said.&#39;,
 &#39;“The better to see you with, my dear.”  “But, Grandmother, what large hands you have!”  “The better to hug you with.”  “Oh!&#39;,
 &#39;but Grandmother, what a terrible big mouth you have!”  “The better to eat you with!” And scarcely had the Wolf said this, than with one bound he was out of bed and swallowed up Red-Cap.&#39;,
 &#39;When the Wolf had satisfied his appetite, he lay down again in the bed, fell asleep and began to snore very loud.&#39;,
 &#39;The huntsman was just passing the house, and thought to himself, “How the old woman is snoring!&#39;,
 &#39;I must just see if she wants anything.”  So he went into the room, and when he came to the bed, he saw the Wolf lying in it.&#39;,
 &#39;“Do I find thee here, thou old sinner!” said he.&#39;,
 &#39;“I have long sought thee!”  Then just as he was going to fire at him, it occurred to him that the Wolf might have devoured the grandmother, and that she might still be saved.&#39;,
 &#39;So he did not fire, but took a pair of scissors, and began to cut open the stomach of the sleeping Wolf.&#39;,
 &#39;When he had made two snips, he saw the little Red-Cap shining, and then he made two snips more, and the little girl sprang out, crying, “Ah, how frightened I have been!&#39;,
 &#39;How dark it was inside the Wolf!”  And after that the aged grandmother came out alive also, but scarcely able to breathe.&#39;,
 &#39;Red-Cap then quickly fetched great stones with which they filled the Wolf’s body.&#39;,
 &#39;And when he awoke, he wanted to run away, but the stones were so heavy that he tumbled down at once, and fell dead.&#39;,
 &#39;Then all three were delighted.&#39;,
 &#39;The huntsman drew off the Wolf’s skin and went home with it.&#39;,
 &#39;The grandmother ate the cake and drank the wine which Red-Cap had brought, and grew strong again.&#39;,
 &#39;But Red-Cap thought to herself, “As long as I live, I will never leave the path to run into the wood, when my mother has forbidden me to do so.”&#39;]
</pre></div>
</div>
</div>
</div>
<p>To get sentence numbers for each sentence, we can use <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code>.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">sentence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 LITTLE RED-CAP   Once upon a time, there was a sweet little girl, who was loved by every one who looked at her, and most of all by her Grandmother.
1 There was nothing that she would not have given the child!
2 Once she gave her a little cap of red velvet, which suited her so well that she would not wear anything else.
3 So she was always called Little Red-Cap.
4 One day, her Mother said to her, “Come, Little Red-Cap, here is a piece of cake and a bottle of wine.
5 Take them to your Grandmother.
6 She is ill and weak, and they will do her good.
7 Set out before it gets hot.
8 Walk nicely and quietly.
9 Do not run off the path, or you may fall and break the bottle; then your Grandmother will get nothing!
10 When you go into her room, don’t forget to say ‘Good morning,’ and don’t stop to peep into every corner, before you do it.”  “I’ll take great care,” said Little Red-Cap to her Mother, and gave her hand on it.
11 The Grandmother lived in the wood, half an hour’s distance from the village, and just as Little Red-Cap entered the wood, a Wolf met her.
12 Red-Cap did not know what a wicked creature he was, and was not at all afraid of him.
13 “Good-day, Little Red-Cap,” said he.
14 “Thank you kindly, Wolf.”  “Whither away so early, Little Red-Cap?”  “To my Grandmother’s.”  “What have you got in your apron?”  “Cake and wine.
15 Yesterday was baking-day, so poor sick Grandmother is to have something good, to make her stronger.”  “Where does your Grandmother live, Little Red-Cap?”  “A good quarter of an hour farther on in the wood.
16 Her house stands under the three large oak-trees; the nut-trees are just below.
17 You surely must know it,” replied Little Red-Cap.
18 The Wolf thought to himself, “What a tender young creature!
19 what a nice plump mouthful--she will be better to eat than the old woman.
20 I must act craftily, so as to catch both.”  He walked for a short time by the side of Little Red-Cap, and then he said, “See, Little Red-Cap, how pretty the flowers are about here--why do you not look round?
21 I believe, too, that you do not hear how sweetly the little birds are singing.
22 You walk gravely along as if you were going to school, while everything else in the wood is merry.”  Little Red-Cap raised her eyes, and when she saw the sunbeams dancing here and there through the trees, and pretty flowers growing everywhere, she thought, “Suppose I take Grandmother a fresh nosegay.
23 That would please her too.
24 It is so early in the day that I shall still get there in good time.”  And so she ran from the path into the wood to look for flowers.
25 And whenever she had picked one, she fancied that she saw a still prettier one farther on, and ran after it, and thus got deeper and deeper into the wood.
26 Meanwhile, the Wolf ran straight to the Grandmother’s house and knocked at the door.
27 “Who is there?”  “Little Red-Cap,” replied the Wolf.
28 “She is bringing cake and wine.
29 Open the door.”  “Lift the latch,” called out the Grandmother, “I am too weak, and cannot get up.”  The Wolf lifted the latch, the door flew open, and without saying a word he went straight to the Grandmother’s bed, and devoured her.
30 Then he put on her clothes, dressed himself in her cap, laid himself in bed, and drew the curtains.
31 Little Red-Cap, however, had been running about picking flowers.
32 When she had gathered so many that she could carry no more, she remembered her Grandmother, and set out on the way to her.
33 She was surprised to find the cottage-door standing open.
34 And when she went into the room, she had such a strange feeling, that she said to herself, “Oh dear!
35 how uneasy I feel to-day, and at other times I like being with Grandmother so much.”  She called out, “Good morning,” but received no answer.
36 So she went to the bed and drew back the curtains.
37 There lay her Grandmother with her cap pulled far over her face, and looking very strange.
38 “Oh!
39 Grandmother,” she said, “what big ears you have!”  “The better to hear you with, my Child,” was the reply.
40 “But, Grandmother, what big eyes you have!” she said.
41 “The better to see you with, my dear.”  “But, Grandmother, what large hands you have!”  “The better to hug you with.”  “Oh!
42 but Grandmother, what a terrible big mouth you have!”  “The better to eat you with!” And scarcely had the Wolf said this, than with one bound he was out of bed and swallowed up Red-Cap.
43 When the Wolf had satisfied his appetite, he lay down again in the bed, fell asleep and began to snore very loud.
44 The huntsman was just passing the house, and thought to himself, “How the old woman is snoring!
45 I must just see if she wants anything.”  So he went into the room, and when he came to the bed, he saw the Wolf lying in it.
46 “Do I find thee here, thou old sinner!” said he.
47 “I have long sought thee!”  Then just as he was going to fire at him, it occurred to him that the Wolf might have devoured the grandmother, and that she might still be saved.
48 So he did not fire, but took a pair of scissors, and began to cut open the stomach of the sleeping Wolf.
49 When he had made two snips, he saw the little Red-Cap shining, and then he made two snips more, and the little girl sprang out, crying, “Ah, how frightened I have been!
50 How dark it was inside the Wolf!”  And after that the aged grandmother came out alive also, but scarcely able to breathe.
51 Red-Cap then quickly fetched great stones with which they filled the Wolf’s body.
52 And when he awoke, he wanted to run away, but the stones were so heavy that he tumbled down at once, and fell dead.
53 Then all three were delighted.
54 The huntsman drew off the Wolf’s skin and went home with it.
55 The grandmother ate the cake and drank the wine which Red-Cap had brought, and grew strong again.
56 But Red-Cap thought to herself, “As long as I live, I will never leave the path to run into the wood, when my mother has forbidden me to do so.”
</pre></div>
</div>
</div>
</div>
</section>
<section id="make-dataframe">
<h3>Make DataFrame<a class="headerlink" href="#make-dataframe" title="Link to this heading">#</a></h3>
<p>For convenience, we can put all of the sentences into a pandas DataFrame. One easy way to make a DataFrame is to first make a list of dictionaries.</p>
<p>Below we loop through the sentences, calculate sentiment scores, and then create a dictionary with the sentence, sentence numnber, and compound score, which we append to the list <code class="docutils literal notranslate"><span class="pre">sentence_scores</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Break text into sentences</span>
<span class="n">sentences</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># Make empty list</span>
<span class="n">sentence_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># Get each sentence and sentence number, which is what enumerate does</span>
<span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sentences</span><span class="p">):</span>
    <span class="c1"># Use VADER to calculate sentiment</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    <span class="c1"># Make dictionary and append it to the previously empty list</span>
    <span class="n">sentence_scores</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;sentence&#39;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span> <span class="s1">&#39;sentence_number&#39;</span><span class="p">:</span> <span class="n">number</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;sentiment_score&#39;</span><span class="p">:</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<p>To make this list of dictionaries into a DataFrame, we can simply use <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code></p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>sentence_number</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>LITTLE RED-CAP   Once upon a time, there was a sweet little girl, who was loved by every one who looked at her, and most of all by her Grandmother.</td>
      <td>1</td>
      <td>0.7845</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was nothing that she would not have given the child!</td>
      <td>2</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Once she gave her a little cap of red velvet, which suited her so well that she would not wear anything else.</td>
      <td>3</td>
      <td>0.4101</td>
    </tr>
    <tr>
      <th>3</th>
      <td>So she was always called Little Red-Cap.</td>
      <td>4</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>One day, her Mother said to her, “Come, Little Red-Cap, here is a piece of cake and a bottle of wine.</td>
      <td>5</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Take them to your Grandmother.</td>
      <td>6</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>She is ill and weak, and they will do her good.</td>
      <td>7</td>
      <td>-0.4215</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Set out before it gets hot.</td>
      <td>8</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Walk nicely and quietly.</td>
      <td>9</td>
      <td>0.4404</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Do not run off the path, or you may fall and break the bottle; then your Grandmother will get nothing!</td>
      <td>10</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>When you go into her room, don’t forget to say ‘Good morning,’ and don’t stop to peep into every corner, before you do it.”  “I’ll take great care,” said Little Red-Cap to her Mother, and gave her hand on it.</td>
      <td>11</td>
      <td>0.6369</td>
    </tr>
    <tr>
      <th>11</th>
      <td>The Grandmother lived in the wood, half an hour’s distance from the village, and just as Little Red-Cap entered the wood, a Wolf met her.</td>
      <td>12</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Red-Cap did not know what a wicked creature he was, and was not at all afraid of him.</td>
      <td>13</td>
      <td>-0.5267</td>
    </tr>
    <tr>
      <th>13</th>
      <td>“Good-day, Little Red-Cap,” said he.</td>
      <td>14</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>14</th>
      <td>“Thank you kindly, Wolf.”  “Whither away so early, Little Red-Cap?”  “To my Grandmother’s.”  “What have you got in your apron?”  “Cake and wine.</td>
      <td>15</td>
      <td>0.5514</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Yesterday was baking-day, so poor sick Grandmother is to have something good, to make her stronger.”  “Where does your Grandmother live, Little Red-Cap?”  “A good quarter of an hour farther on in the wood.</td>
      <td>16</td>
      <td>-0.4648</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Her house stands under the three large oak-trees; the nut-trees are just below.</td>
      <td>17</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>17</th>
      <td>You surely must know it,” replied Little Red-Cap.</td>
      <td>18</td>
      <td>0.4404</td>
    </tr>
    <tr>
      <th>18</th>
      <td>The Wolf thought to himself, “What a tender young creature!</td>
      <td>19</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>19</th>
      <td>what a nice plump mouthful--she will be better to eat than the old woman.</td>
      <td>20</td>
      <td>0.6908</td>
    </tr>
    <tr>
      <th>20</th>
      <td>I must act craftily, so as to catch both.”  He walked for a short time by the side of Little Red-Cap, and then he said, “See, Little Red-Cap, how pretty the flowers are about here--why do you not look round?</td>
      <td>21</td>
      <td>0.4472</td>
    </tr>
    <tr>
      <th>21</th>
      <td>I believe, too, that you do not hear how sweetly the little birds are singing.</td>
      <td>22</td>
      <td>-0.3724</td>
    </tr>
    <tr>
      <th>22</th>
      <td>You walk gravely along as if you were going to school, while everything else in the wood is merry.”  Little Red-Cap raised her eyes, and when she saw the sunbeams dancing here and there through the trees, and pretty flowers growing everywhere, she thought, “Suppose I take Grandmother a fresh nosegay.</td>
      <td>23</td>
      <td>0.5719</td>
    </tr>
    <tr>
      <th>23</th>
      <td>That would please her too.</td>
      <td>24</td>
      <td>0.3182</td>
    </tr>
    <tr>
      <th>24</th>
      <td>It is so early in the day that I shall still get there in good time.”  And so she ran from the path into the wood to look for flowers.</td>
      <td>25</td>
      <td>0.4404</td>
    </tr>
    <tr>
      <th>25</th>
      <td>And whenever she had picked one, she fancied that she saw a still prettier one farther on, and ran after it, and thus got deeper and deeper into the wood.</td>
      <td>26</td>
      <td>0.4767</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Meanwhile, the Wolf ran straight to the Grandmother’s house and knocked at the door.</td>
      <td>27</td>
      <td>0.2263</td>
    </tr>
    <tr>
      <th>27</th>
      <td>“Who is there?”  “Little Red-Cap,” replied the Wolf.</td>
      <td>28</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>28</th>
      <td>“She is bringing cake and wine.</td>
      <td>29</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Open the door.”  “Lift the latch,” called out the Grandmother, “I am too weak, and cannot get up.”  The Wolf lifted the latch, the door flew open, and without saying a word he went straight to the Grandmother’s bed, and devoured her.</td>
      <td>30</td>
      <td>-0.2500</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Then he put on her clothes, dressed himself in her cap, laid himself in bed, and drew the curtains.</td>
      <td>31</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Little Red-Cap, however, had been running about picking flowers.</td>
      <td>32</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>32</th>
      <td>When she had gathered so many that she could carry no more, she remembered her Grandmother, and set out on the way to her.</td>
      <td>33</td>
      <td>-0.2960</td>
    </tr>
    <tr>
      <th>33</th>
      <td>She was surprised to find the cottage-door standing open.</td>
      <td>34</td>
      <td>0.2263</td>
    </tr>
    <tr>
      <th>34</th>
      <td>And when she went into the room, she had such a strange feeling, that she said to herself, “Oh dear!</td>
      <td>35</td>
      <td>0.3802</td>
    </tr>
    <tr>
      <th>35</th>
      <td>how uneasy I feel to-day, and at other times I like being with Grandmother so much.”  She called out, “Good morning,” but received no answer.</td>
      <td>36</td>
      <td>-0.4310</td>
    </tr>
    <tr>
      <th>36</th>
      <td>So she went to the bed and drew back the curtains.</td>
      <td>37</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>37</th>
      <td>There lay her Grandmother with her cap pulled far over her face, and looking very strange.</td>
      <td>38</td>
      <td>-0.2716</td>
    </tr>
    <tr>
      <th>38</th>
      <td>“Oh!</td>
      <td>39</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Grandmother,” she said, “what big ears you have!”  “The better to hear you with, my Child,” was the reply.</td>
      <td>40</td>
      <td>0.4926</td>
    </tr>
    <tr>
      <th>40</th>
      <td>“But, Grandmother, what big eyes you have!” she said.</td>
      <td>41</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>41</th>
      <td>“The better to see you with, my dear.”  “But, Grandmother, what large hands you have!”  “The better to hug you with.”  “Oh!</td>
      <td>42</td>
      <td>0.8585</td>
    </tr>
    <tr>
      <th>42</th>
      <td>but Grandmother, what a terrible big mouth you have!”  “The better to eat you with!” And scarcely had the Wolf said this, than with one bound he was out of bed and swallowed up Red-Cap.</td>
      <td>43</td>
      <td>-0.2225</td>
    </tr>
    <tr>
      <th>43</th>
      <td>When the Wolf had satisfied his appetite, he lay down again in the bed, fell asleep and began to snore very loud.</td>
      <td>44</td>
      <td>0.4215</td>
    </tr>
    <tr>
      <th>44</th>
      <td>The huntsman was just passing the house, and thought to himself, “How the old woman is snoring!</td>
      <td>45</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>45</th>
      <td>I must just see if she wants anything.”  So he went into the room, and when he came to the bed, he saw the Wolf lying in it.</td>
      <td>46</td>
      <td>-0.5267</td>
    </tr>
    <tr>
      <th>46</th>
      <td>“Do I find thee here, thou old sinner!” said he.</td>
      <td>47</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>47</th>
      <td>“I have long sought thee!”  Then just as he was going to fire at him, it occurred to him that the Wolf might have devoured the grandmother, and that she might still be saved.</td>
      <td>48</td>
      <td>0.1759</td>
    </tr>
    <tr>
      <th>48</th>
      <td>So he did not fire, but took a pair of scissors, and began to cut open the stomach of the sleeping Wolf.</td>
      <td>49</td>
      <td>-0.2805</td>
    </tr>
    <tr>
      <th>49</th>
      <td>When he had made two snips, he saw the little Red-Cap shining, and then he made two snips more, and the little girl sprang out, crying, “Ah, how frightened I have been!</td>
      <td>50</td>
      <td>-0.7424</td>
    </tr>
    <tr>
      <th>50</th>
      <td>How dark it was inside the Wolf!”  And after that the aged grandmother came out alive also, but scarcely able to breathe.</td>
      <td>51</td>
      <td>0.2714</td>
    </tr>
    <tr>
      <th>51</th>
      <td>Red-Cap then quickly fetched great stones with which they filled the Wolf’s body.</td>
      <td>52</td>
      <td>0.6249</td>
    </tr>
    <tr>
      <th>52</th>
      <td>And when he awoke, he wanted to run away, but the stones were so heavy that he tumbled down at once, and fell dead.</td>
      <td>53</td>
      <td>-0.7876</td>
    </tr>
    <tr>
      <th>53</th>
      <td>Then all three were delighted.</td>
      <td>54</td>
      <td>0.5106</td>
    </tr>
    <tr>
      <th>54</th>
      <td>The huntsman drew off the Wolf’s skin and went home with it.</td>
      <td>55</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>55</th>
      <td>The grandmother ate the cake and drank the wine which Red-Cap had brought, and grew strong again.</td>
      <td>56</td>
      <td>0.5106</td>
    </tr>
    <tr>
      <th>56</th>
      <td>But Red-Cap thought to herself, “As long as I live, I will never leave the path to run into the wood, when my mother has forbidden me to do so.”</td>
      <td>57</td>
      <td>-0.5389</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s examine the 10 most negative sentences.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assign DataFrame to variable red_df</span>
<span class="n">red_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>

<span class="c1"># Sort by the column &quot;sentiment_score&quot; and slice for first 10 values</span>
<span class="n">red_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>sentence_number</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>52</th>
      <td>And when he awoke, he wanted to run away, but the stones were so heavy that he tumbled down at once, and fell dead.</td>
      <td>53</td>
      <td>-0.7876</td>
    </tr>
    <tr>
      <th>49</th>
      <td>When he had made two snips, he saw the little Red-Cap shining, and then he made two snips more, and the little girl sprang out, crying, “Ah, how frightened I have been!</td>
      <td>50</td>
      <td>-0.7424</td>
    </tr>
    <tr>
      <th>56</th>
      <td>But Red-Cap thought to herself, “As long as I live, I will never leave the path to run into the wood, when my mother has forbidden me to do so.”</td>
      <td>57</td>
      <td>-0.5389</td>
    </tr>
    <tr>
      <th>45</th>
      <td>I must just see if she wants anything.”  So he went into the room, and when he came to the bed, he saw the Wolf lying in it.</td>
      <td>46</td>
      <td>-0.5267</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Red-Cap did not know what a wicked creature he was, and was not at all afraid of him.</td>
      <td>13</td>
      <td>-0.5267</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Yesterday was baking-day, so poor sick Grandmother is to have something good, to make her stronger.”  “Where does your Grandmother live, Little Red-Cap?”  “A good quarter of an hour farther on in the wood.</td>
      <td>16</td>
      <td>-0.4648</td>
    </tr>
    <tr>
      <th>35</th>
      <td>how uneasy I feel to-day, and at other times I like being with Grandmother so much.”  She called out, “Good morning,” but received no answer.</td>
      <td>36</td>
      <td>-0.4310</td>
    </tr>
    <tr>
      <th>6</th>
      <td>She is ill and weak, and they will do her good.</td>
      <td>7</td>
      <td>-0.4215</td>
    </tr>
    <tr>
      <th>21</th>
      <td>I believe, too, that you do not hear how sweetly the little birds are singing.</td>
      <td>22</td>
      <td>-0.3724</td>
    </tr>
    <tr>
      <th>32</th>
      <td>When she had gathered so many that she could carry no more, she remembered her Grandmother, and set out on the way to her.</td>
      <td>33</td>
      <td>-0.2960</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s examine the 10 most positive sentences.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort by the column &quot;sentiment_score,&quot; this time in descending order, and slice for first 10 values</span>
<span class="n">red_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>sentence_number</th>
      <th>sentiment_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>41</th>
      <td>“The better to see you with, my dear.”  “But, Grandmother, what large hands you have!”  “The better to hug you with.”  “Oh!</td>
      <td>42</td>
      <td>0.8585</td>
    </tr>
    <tr>
      <th>0</th>
      <td>LITTLE RED-CAP   Once upon a time, there was a sweet little girl, who was loved by every one who looked at her, and most of all by her Grandmother.</td>
      <td>1</td>
      <td>0.7845</td>
    </tr>
    <tr>
      <th>19</th>
      <td>what a nice plump mouthful--she will be better to eat than the old woman.</td>
      <td>20</td>
      <td>0.6908</td>
    </tr>
    <tr>
      <th>10</th>
      <td>When you go into her room, don’t forget to say ‘Good morning,’ and don’t stop to peep into every corner, before you do it.”  “I’ll take great care,” said Little Red-Cap to her Mother, and gave her hand on it.</td>
      <td>11</td>
      <td>0.6369</td>
    </tr>
    <tr>
      <th>51</th>
      <td>Red-Cap then quickly fetched great stones with which they filled the Wolf’s body.</td>
      <td>52</td>
      <td>0.6249</td>
    </tr>
    <tr>
      <th>22</th>
      <td>You walk gravely along as if you were going to school, while everything else in the wood is merry.”  Little Red-Cap raised her eyes, and when she saw the sunbeams dancing here and there through the trees, and pretty flowers growing everywhere, she thought, “Suppose I take Grandmother a fresh nosegay.</td>
      <td>23</td>
      <td>0.5719</td>
    </tr>
    <tr>
      <th>14</th>
      <td>“Thank you kindly, Wolf.”  “Whither away so early, Little Red-Cap?”  “To my Grandmother’s.”  “What have you got in your apron?”  “Cake and wine.</td>
      <td>15</td>
      <td>0.5514</td>
    </tr>
    <tr>
      <th>53</th>
      <td>Then all three were delighted.</td>
      <td>54</td>
      <td>0.5106</td>
    </tr>
    <tr>
      <th>55</th>
      <td>The grandmother ate the cake and drank the wine which Red-Cap had brought, and grew strong again.</td>
      <td>56</td>
      <td>0.5106</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Grandmother,” she said, “what big ears you have!”  “The better to hear you with, my Child,” was the reply.</td>
      <td>40</td>
      <td>0.4926</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="make-a-sentiment-plot">
<h3>Make a Sentiment Plot<a class="headerlink" href="#make-a-sentiment-plot" title="Link to this heading">#</a></h3>
<p>To create a data visualization of sentiment over the course of “Little Red Cap,” we can plot the sentiment scores over story time (aka sentence number).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">red_df</span><span class="p">[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f73708ab9fd54bf144ca7dba8b788f8e8acad909542e3ea0156848ba9a974129.png" src="../_images/f73708ab9fd54bf144ca7dba8b788f8e8acad909542e3ea0156848ba9a974129.png" />
</div>
</div>
<p>We can also add a little formatting and styling to make it more readable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">red_df</span><span class="p">[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;sentence_number&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sentiment in &quot;Little-Red Cap&quot;&#39;</span><span class="p">)</span>

<span class="c1"># Plot a horizontal line at 0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d73269ab7f93dbade4f4f472b5645881a93fb80b28e9c22906a2b80a19816990.png" src="../_images/d73269ab7f93dbade4f4f472b5645881a93fb80b28e9c22906a2b80a19816990.png" />
</div>
</div>
<p>The plots above show sentiment fluctuating sentence by sentence. But we could also get a more generalized view by getting a “rolling average” 5 sentences at a time (by using the <code class="docutils literal notranslate"><span class="pre">.rolling()</span></code> method with a specified window).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get averages for a rolling window, then plot</span>
<span class="n">red_df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">5</span><span class="p">)[</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;sentence_number&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sentiment_score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sentiment in &quot;Little-Red Cap&quot;&#39;</span><span class="p">)</span>

<span class="c1"># Plot a horizontal line at 0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2215d9f54fbd48078bf5213c3171c8cea750c36e4cb6879d5da948c29ca8a4e7.png" src="../_images/2215d9f54fbd48078bf5213c3171c8cea750c36e4cb6879d5da948c29ca8a4e7.png" />
</div>
</div>
<p>The figure above captures the “plot arc” of “Little Red-Cap” relatively well.</p>
<p>The story arc begins positively with Little Red-Cap, “a sweet little girl…loved by every
one who looked at her,” setting off into the woods and picking flowers in the sunshine. Then it dips severely when she gets to her grandmother’s home, discovers the wolf in her grandmother’s clothing, and gets devoured by the wolf. Finally it picks up again when the huntsman cuts open the wolf’s stomach and saves Little Red-Cap and her grandmother, and the wolf ultimately dies.</p>
<p>But it should be noted that this is a short and relatively simple story that has very clearly positive and negative words, and VADER does not work as well for all fictional stories.</p>
<p>There are also some tricky moments in this story that help capture how difficult it is to use technologies like VADER to study plot or emotional arcs in stories. For example, the most negative sentence in the story is the moment when the wolf dies: “And when he awoke, he wanted to run away, but the stones were so heavy that he tumbled down at once, and fell dead.” Surely this is a negative moment for the wolf, but is this a negative moment for Little Red-Cap, her grandmother, the huntsman, or the reader? It may actually be one of the most positive and triumphant moments. This contradiction helps demonstrate that fictional texts do not typically express straightforward opinions and attitudes the way a social media post might, and thus students and researchers must be careful, cautious, and deliberate when applying sentiment analysis tools to fiction.</p>
</section>
<section id="your-turn">
<h3>Your Turn!<a class="headerlink" href="#your-turn" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>How well do you think VADER sentiment analysis works with tweets and literary texts?</p></li>
<li><p>How do social media posts and literary texts different in the way they express sentiment? What kinds of tweets or literary texts might pose particular problems for VADER?</p></li>
<li><p>What do you think VADER is really measuring?</p></li>
<li><p>Could you imagine using sentiment analysis in a project? If so, how?</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./05-Text-Analysis"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="03-TF-IDF-Scikit-Learn.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">TF-IDF with Scikit-Learn</p>
      </div>
    </a>
    <a class="right-next"
       href="05-Topic-Modeling.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Topic Modeling</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets">Datasets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#trumps-tweets">Trump’s Tweets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#little-red-riding-hood">Little Red Riding Hood</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-sentiment-what-exactly-are-we-measuring">What is Sentiment? What Exactly Are We Measuring?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-vader-was-built-and-how-it-works">How VADER Was Built and How It Works</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-import-libraries-packages">Install and Import Libraries/Packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-scores">Calculate Sentiment Scores</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-scores-for-donald-trumps-tweets">Calculate Sentiment Scores for Donald Trump’s Tweets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#load-csv-file">Load CSV File</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-for-all-rows-in-a-csv">Calculate Sentiment for All Rows in a CSV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-sentiment-over-time">Plot Sentiment Over Time</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-sentiment-scores-for-little-red-riding-hood">Calculate Sentiment Scores for Little Red Riding Hood</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-import-nltk">Install and Import NLTK</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#make-dataframe">Make DataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#make-a-sentiment-plot">Make a Sentiment Plot</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#your-turn">Your Turn!</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By <a href="https://melaniewalsh.org/">Melanie Walsh</a>
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
<a href="https://web.archive.org/web/20230314182511/http://dhawards.org/dhawards2021/results/">🏆</a> Winner of "Best DH Training Material" 2021.<br>
<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> This book is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>.  
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>